@tailwind components;

@layer components {
  .tags {
    @apply -mt-4 mb-8 flex w-full flex-wrap justify-center gap-2 px-2;
  }
  .tag {
    @apply relative flex items-center gap-1 text-nowrap rounded-3xl border-2 border-black px-2 py-1 text-center text-xs font-bold;
  }

  .service-error {
    @apply absolute right-0 top-0 m-1;
  }

  .react-flow__node.parent {
    @apply w-[28em];
  }

  .custom-node {
    @apply relative h-full w-full rounded border-2 border-black bg-white text-center;
  }

  .custom-node--minified {
    @apply text-sm;
  }

  .custom-node--minified .custom-node__header {
    @apply h-fit rounded-b-none pb-4 pt-2;
  }

  .custom-node--minified .tags {
    @apply -mt-3 mb-2 text-xs;
  }

  .custom-node--minified .tags .tag {
    @apply flex-none py-0.5;
  }

  .custom-node--minified .status {
    @apply -right-0.5 -top-1.5 h-2 w-2;
  }

  .custom-node--offline {
    background: repeating-linear-gradient(
      45deg,
      #d1d5db,
      #d1d5db 10px,
      #c6c7c9 10px,
      #c6c7c9 20px
    );
  }

  .custom-node__header {
    @apply h-16 rounded-b-xl border-b-2 border-black p-1;
  }

  .custom-node__title {
    @apply relative px-2 font-bold underline;
  }

  .subnode {
    @apply flex items-center rounded border border-black;
  }

  .subnode__content {
    @apply relative flex flex-1;
  }

  .subnode__label {
    @apply flex-1 px-1 py-0 text-center;
  }

  .subnode__handle {
    @apply absolute flex flex-col;
  }

  .subnode__handle--left {
    @apply -left-2 items-start;
  }

  .subnode__handle--right {
    @apply -right-2 items-end;
  }

  .selected .custom-node {
    @apply border-green-400;
  }

  .status {
    @apply h-3 w-3 rounded-full;
  }

  .status--running {
    @apply animate-pulse border-2 border-green-500 bg-green-400;
  }

  .status--stopped {
    @apply border-2 border-orange-600 bg-orange-500;
  }

  .status--error {
    @apply border-2 border-red-700 bg-red-600;
  }
}
